<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>COMEX Gold Open Interest Flow</title>
  <link rel="stylesheet" href="chart-styles.css">
</head>
<body>
  <div id="header">
    <div id="header-left">
      <h1>COMEX Gold Open Interest Flow</h1>
      <p><strong>Data Source:</strong> <a href="https://www.cmegroup.com/markets/metals/precious/gold.volume.html" target="_blank">CME Group - Gold Futures</a> | Shows top 7 contract months per day | Band width = OI amount | Band darkness = trading volume</p>
      <div class="columns">
        <div>
          <p><strong>Visual Elements:</strong></p>
          <ul>
            <li><strong>Added:</strong> New positions or contracts entering top 7</li>
            <li><strong>Removed:</strong> Positions closed or contracts leaving top 7</li>
            <li><strong>Dashed borders:</strong> Contracts appearing for first time</li>
            <li><strong>Band colors:</strong> Match target contract</li>
          </ul>
        </div>
        <div>
          <p><strong>Disclaimers:</strong></p>
          <ul>
            <li>OI doesn't distinguish long vs short positions</li>
            <li>Flow routing uses bucket-fill algorithm (aggregate changes only)</li>
            <li>Only top 7 contracts shown; totals include all contracts</li>
          </ul>
        </div>
      </div>
    </div>
    <div id="charts-container">
      <svg id="oi-chart" class="mini-chart"></svg>
      <svg id="vol-chart" class="mini-chart"></svg>
      <div id="chart-tooltip"></div>
    </div>
  </div>
  <div id="scrollbar-container"><div id="scrollbar-content"></div></div>
  <div id="chart"></div>
  <script type="module">
    import {initChart} from './chart-app.js';
    initChart('gold');
  </script>
</body>
</html>
